<!DOCTYPE html>
<html>
<head>
    <title>Admin Dashboard - Gayatri Electronics</title>
    <style>
        body { font-family: Arial; background:#f4f6f9; padding:30px; }
        .card { background:white; padding:20px; margin-bottom:20px; border-radius:8px; }
        input, select, button { padding:8px; margin:5px 0; width:100%; }
        button { background:#007bff; color:white; border:none; cursor:pointer; }
        button.logout { background:red; }

        table { width:100%; border-collapse: collapse; margin-top:10px; }
        th, td { padding:10px; border:1px solid #ddd; text-align:left; }
        th { background:#f0f0f0; }

        .status-active { color:orange; font-weight:bold; }
        .status-closed { color:green; font-weight:bold; }

        .user-info { margin-top:10px; padding:10px; background:#f9f9f9; border-radius:6px; }
    </style>
</head>
<body>

<h1>Admin Dashboard</h1>
<button class="logout" onclick="logout()">Logout</button>

<!-- CREATE LOAN -->
<div class="card">
<h2>Create Loan</h2>
<select id="userId">
  <option value="">Select User</option>
</select>
<input type="number" id="principal" placeholder="Loan Amount">
<input type="number" id="interest" placeholder="Interest %">
<input type="number" id="months" placeholder="EMI Months">
<button onclick="createLoan()">Create Loan</button>
</div>

<!-- ADD LEDGER -->
<div class="card">
<h2>Add Ledger Entry</h2>

<select id="ledgerUserSelect">
  <option value="">Select User</option>
</select>

<select id="ledgerLoanSelect">
  <option value="">Select Loan</option>
</select>

<select id="type">
<option value="credit">Credit (Payment Received)</option>
<option value="debit">Debit (Extra Loan)</option>
</select>

<input type="number" id="amount" placeholder="Amount">
<button onclick="addLedger()">Add Entry</button>
</div>

<!-- USER LOAN HISTORY -->
<div class="card">
<h2>User Loan History</h2>

<select id="historyUserSelect">
  <option value="">Select User</option>
</select>

<div id="selectedUserInfo" class="user-info"></div>

<input 
  type="text" 
  id="loanSearchInput" 
  placeholder="Search by Loan ID or Status..."
>

<table id="loanHistoryTable">
    <thead>
        <tr>
            <th>Loan ID</th>
            <th>Principal</th>
            <th>Total</th>
            <th>Remaining</th>
            <th>Status</th>
            <th>Start Date</th>
            <th>Closed Date</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td colspan="7">Select a user to view loan history.</td>
        </tr>
    </tbody>
</table>

</div>

<div class="card">
<h2>Create New Admin</h2>
<input type="email" id="newAdminEmail" placeholder="Admin Email">
<input type="password" id="newAdminPassword" placeholder="Password">
<button onclick="createAdmin()">Create Admin</button>
</div>

<script type="module" src="js/admin.js"></script>

</body>
</html>
